
<title>{{artist_id.artist_name}}</title>
{% extends 'base.html' %}



{% block content %}
<body >
  
  <link rel="stylesheet" href="../static/css/freelancer.min.css">
  <!--===============================================================================================-->
  
  <!-- Masthead -->
  <header class="masthead bg-primary text-white text-center" style="background-image:url('{{artist_id.artist_icon}}')">
    <div class="container d-flex align-items-center flex-column">
      <!-- Masthead Heading -->
      <h1 class="masthead-heading text-uppercase mb-0">{{artist_id.artist_name}}</h1>

      <!-- Icon Divider -->
      <div class="divider-custom divider-light">
        <div class="divider-custom-line"></div>
        <div class="divider-custom-icon">
          <i class="fa fa-star"></i>
        </div>
        <div class="divider-custom-line"></div>
      </div>
    </div>
  </header>
  <div class="container-artistpage">
  <div class="jumbotron jumbotron-fluid">
    <div class="container">
      <h5 class="display-5">Description</h5>
      <p class="lead">{{artist_id.artist_description}}</p>
      <h5 class="display-5">Members</h5>
      {% for member in artist_id.artist_members %}
      {% if not loop.last %}
      <p class="lead members">{{member + "," }}</p>
      
      {% else %}
      <p class="lead members">{{member }}</p>
      {%endif%}
      {% endfor %}
    </div>
  </div>
  <div id="carouselExampleIndicators" class="carousel slide " data-ride="carousel">
    <br>
    <h1 class="text-center">Albums</h1>
    <br>
    <ol class="carousel-indicators">
      {% for album in artist_id.album_url %}
         {% if loop.index == 0 %}
      <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
      {% else %}
      <li data-target="#carouselExampleIndicators" data-slide-to="{{loop.index - 1}}"></li>
      {% endif %}
      {% endfor %}
    </ol>
    
    <div class="carousel-inner">
      {% for album in artist_id.album_url %}
        {% if loop.index == 1 %}
      <div class="carousel-item active">
        <img class="d-block w-100" src="{{album}}" alt="Slide">
      </div>
      {% else %}
      <div class="carousel-item ">
        <img class="d-block w-100" src="{{album}}" alt="First slide">
      </div>
      {% endif %}
      {% endfor %}
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
  <br>
  <!-- Comment Section -->
  <div><h2 class="text-center">Comment Section</h2></div>
  <div><h4 class="text-center">Comments({{nr_comments}})</h4></div>
  <div class="row">
    <div class="col-md-8 container">
      {% for item in comments %}
              
        <div class="media g-mb-30 media-comment">
          
            <img class="d-flex g-width-50 g-height-50 rounded-circle g-mt-3 g-mr-15" src="../static/images/message_user_image.png" alt="User Photo">
            <div class="media-body u-shadow-v18 g-bg-secondary g-pa-30">
              <div class="g-mb-15">
                <h5 class="h5 g-color-gray-dark-v1 mb-0">{{item.user}}</h5>
                <span class="g-color-gray-dark-v4 g-font-size-12">{{item.time}}</span>
              </div>
              
              <p>{{item.messages}}</p>
        
              <ul class="list-inline d-sm-flex my-0">
                
                <li class="list-inline-item g-mr-20">
                  <p class="u-link-v5 g-color-gray-dark-v4 g-color-primary--hover" href="#!">
                    Posted: {{item.date}}
                  </p>
                </li>
                
                <li class="list-inline-item ml-auto">
                  {% if current_user.id == item.user_id %}                     
                      <div class="btn-group ">
                        <button class="btn-lg fa fa-ellipsis-h" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        </button>                                               
                        <div class="dropdown-menu">
                          
                          <a class="dropdown-item" href="{{url_for('main.edit_message', comments_id = item._id,artist_id = artist_id._id,artist_name = artist_id.artist_name)}}">Edit</a>
                          <a class="dropdown-item" href="{{url_for('main.delete_comment',comments_id = item._id, artist_id = artist_id._id, artist_name = artist_id.artist_name)}}">Delete</a>
                                    
                        </div>                        
                      </div>                      
                      {% endif %}
                </li>
                
              </ul>
              
            </div>
        </div>
        <br>
                {% endfor %}
                
                  <form accept-charset="UTF-8" action="{{url_for('main.insert_comment', artist_id = artist_id._id , artist_name = artist_id.artist_name)}}" method="POST" class="container sendform" >
                      <textarea class="form-control" id="text" name="messages" maxlength="500" placeholder="Type in your message" rows="5"></textarea>
                      <span class="pull-right label label-default" id="count_message"></span>
                      <br>
                      <button class="btn btn-success" type="submit" name="action">Post New Message</button>
                  </form>
                  
                  <br>
                  
              
    </div>
    

   
  

     
  
  </body>
  <script src="../static/js/main.js"></script>
  <script src="../static/vendor/jquery/jquery.min.js"></script>
  <script src="../static/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="../static/vendor/jquery-easing/jquery.easing.min.js"></script>
  <script src="../static/js/jqBootstrapValidation.js"></script>
  <script src="../static/js/freelancer.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<!--===============================================================================================-->
{% endblock %}


