
<title>{{artist_id.artist_name}}</title>
{% extends 'base.html' %}



{% block content %}
<body >
  
  <link rel="stylesheet" href="../static/css/freelancer.min.css">
  <!--===============================================================================================-->
  
  <!-- Masthead -->
  <header class="masthead bg-primary text-white text-center" style="background-image:url('{{artist_id.artist_icon}}')">
    <div class="container d-flex align-items-center flex-column">
      <!-- Masthead Heading -->
      <h1 class="masthead-heading text-uppercase mb-0">{{artist_id.artist_name}}</h1>

      <!-- Icon Divider -->
      <div class="divider-custom divider-light">
        <div class="divider-custom-line"></div>
        <div class="divider-custom-icon">
          <i class="fa fa-star"></i>
        </div>
        <div class="divider-custom-line"></div>
      </div>
    </div>
  </header>
  <div class="container-artistpage">
  <div class="jumbotron jumbotron-fluid">
    <div class="container">
      <h5 class="display-5">Description</h5>
      <p class="lead">{{artist_id.artist_description}}</p>
      <h5 class="display-5">Members</h5>
      {% for member in artist_id.artist_members %}
      <p class="lead members">{{member + ","}}</p>
      {% endfor %}
    </div>
  </div>
  <div id="carouselExampleIndicators" class="carousel slide " data-ride="carousel">
    <h1 class="text-center">Albums</h1>
    <ol class="carousel-indicators">
      {% for album in artist_id.album_url %}
         {% if loop.index == 0 %}
      <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
      {% else %}
      <li data-target="#carouselExampleIndicators" data-slide-to="{{loop.index}}"></li>
      {% endif %}
      {% endfor %}
    </ol>
    
    <div class="carousel-inner">
      {% for album in artist_id.album_url %}
        {% if loop.index == 1 %}
      <div class="carousel-item active">
        <img class="d-block w-100" src="{{album}}" alt="First slide">
      </div>
      {% else %}
      <div class="carousel-item ">
        <img class="d-block w-100" src="{{album}}" alt="First slide">
      </div>
      {% endif %}
      {% endfor %}
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
  
  <div class="panel-heading text-center">
          <h3>Discussions</h3>    
    </div>
                
                            
    <div class="comments-container">                 
      <ul id="comments-list" class="comments-list">
      
        {% for item in comments %}
        {% for message, id in item.messages.items() %}
        {% if item.artist_id == artist_id._id %}
        
          <li>
              <div class="comment-main-level">
                  <!-- Avatar -->
                  <div class="comment-avatar"><h1 class = "initial">{{item.user[0]}}</h1></div>
                  <!-- Contenedor del Comentario -->
                  <div class="comment-box">
                      <div class="comment-head">
                        
                        <i class="fa fa-user"></i>
                          <h6 class="comment-name">{{item.user}}</h6>
                          
                          <span class = "time">{{item.time}}</span>
                          <p class = "date">{{item.date}}</p>
                      </div>
                      
                      {% if current_user.id == id %}
                      
                      <div class="btn-group ">
                        <button class="btn-lg fa fa-ellipsis-h" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        </button>
                        
                        <div class="dropdown-menu">
                          <a class="dropdown-item" href="{{url_for('main.edit_message', comments_id = item._id)}}">Edit</a>
                          <a class="dropdown-item" href="{{url_for('main.delete_comment',comments_id = item._id)}}">Delete</a>
                          
                        </div>
                        
                      </div>
                      
                      {% endif %}
                      
                      <div class="comment-content">
                          {{message}}
                      </div>  
                  </div>
              </div>
              
          </li>
          {% endif %}
          {% endfor %}
          {% endfor %}
      </ul>
      
      <div class="well">
        <form accept-charset="UTF-8" action="{{url_for('main.insert_comment', artist_id = artist_id._id)}}" method="POST">
            <textarea class="form-control" id="text" name="messages" maxlength="200" placeholder="Type in your message" rows="5"></textarea>
            <span class="pull-right label label-default" id="count_message"></span>
            <br>
            <button class="btn btn-info" type="submit" name="action">Post New Message</button>
        </form>
    </div>
    
    </div>

  
  </body>
  <script src="../static/js/main.js"></script>
  <script src="../static/vendor/jquery/jquery.min.js"></script>
  <script src="../static/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="../static/vendor/jquery-easing/jquery.easing.min.js"></script>
  <script src="../static/js/jqBootstrapValidation.js"></script>
  <script src="../static/js/freelancer.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<!--===============================================================================================-->
{% endblock %}


